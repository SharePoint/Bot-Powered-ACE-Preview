"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.breadcrumbs = void 0;
const theme_1 = require("../../theme");
const escape_1 = require("./escape");
function breadcrumbs() {
    var _a, _b;
    const breadcrumbs = [];
    breadcrumbs.push(this.url === ((_a = this.project) === null || _a === void 0 ? void 0 : _a.url)
        ? 'Globals'
        : `[Globals](${theme_1.default.HANDLEBARS.helpers.relativeURL((_b = this.project) === null || _b === void 0 ? void 0 : _b.url)})`);
    return breadcrumb(this, this.model, breadcrumbs);
}
exports.breadcrumbs = breadcrumbs;
function breadcrumb(page, model, md) {
    if (model && model.parent) {
        breadcrumb(page, model.parent, md);
        if (model.url) {
            md.push(page.url === model.url
                ? `${escape_1.escape(model.name)}`
                : `[${escape_1.escape(model.name)}](${theme_1.default.HANDLEBARS.helpers.relativeURL(model.url)})`);
        }
    }
    return md.join(' / ');
}
